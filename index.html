<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>The Mutilator X</title>

<style>
/* ===== GLOBAL NEON GREEN CRT VIBE ======================================== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, sans-serif;
  background: #000;
  color: #a0ffb0;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  padding: 16px;
}

/* scanline overlay */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    rgba(0,255,120,0.08) 0px,
    rgba(0,255,120,0.02) 2px,
    transparent 4px
  );
  mix-blend-mode: screen;
  opacity: 0.7;
  z-index: 999;
}

/* green glow */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(circle at top, rgba(0,255,120,0.16), transparent 55%),
    radial-gradient(circle at bottom, rgba(0,255,120,0.2), transparent 60%);
  mix-blend-mode: screen;
  opacity: 0.9;
  z-index: 998;
}

.app {
  position: relative;
  max-width: 640px;
  width: 100%;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
  z-index: 1;
}

/* ===== BOOT TEXT ========================================================= */
.boot {
  font-family: monospace;
  font-size: 11px;
  color: #7fff7f;
  line-height: 1.4;
}

/* ===== HEADER BAR (Google-ish) ========================================== */
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 2px 4px;
}

.header-title {
  font-weight: 700;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  font-size: 14px;
  color: #9effa8;
}

.header-pill {
  border-radius: 999px;
  border: 1px solid rgba(0,255,120,0.5);
  padding: 4px 10px;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  color: #67ff8a;
}

/* ===== MAIN CARD ========================================================= */
.card {
  background: radial-gradient(circle at top, rgba(0,255,120,0.18), #020402 60%);
  border-radius: 16px;
  border: 1px solid rgba(0,255,120,0.4);
  box-shadow: 0 0 18px rgba(0,255,120,0.18);
  padding: 16px 12px 14px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* language row */
.lang-row {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 4px;
}

.lang-select {
  flex: 1;
  position: relative;
}

.lang-select select {
  width: 100%;
  border-radius: 999px;
  border: 1px solid rgba(0,255,120,0.5);
  background: rgba(0,0,0,0.9);
  color: #caffd5;
  padding: 6px 12px;
  font-size: 13px;
  -webkit-appearance: none;
  appearance: none;
}

.lang-select::after {
  content: "â–¾";
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
  color: #8dffae;
}

.swap-btn {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: 1px solid rgba(0,255,120,0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #9effa8;
  background: rgba(0,0,0,0.9);
  cursor: pointer;
  font-size: 16px;
}

/* labels + textareas */
.label {
  font-size: 11px;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: #65ff88;
  margin-bottom: 4px;
}

textarea {
  width: 100%;
  min-height: 110px;
  border-radius: 12px;
  border: 1px solid rgba(0,255,120,0.4);
  background: rgba(0,0,0,0.9);
  color: #caffd5;
  padding: 10px;
  font-size: 14px;
  font-family: inherit;
  resize: vertical;
  outline: none;
  box-shadow: inset 0 0 12px rgba(0,255,120,0.12);
}

textarea:focus {
  border-color: #00ff75;
  box-shadow: 0 0 10px rgba(0,255,120,0.6);
}

.divider {
  height: 1px;
  background: linear-gradient(90deg,
    transparent,
    rgba(0,255,120,0.7),
    transparent);
  margin: 4px 0;
}

/* buttons */
.btn-row {
  display: flex;
  gap: 8px;
  margin-top: 6px;
}

button {
  border: none;
}

.btn {
  flex: 1;
  padding: 9px 12px;
  border-radius: 999px;
  border: 1px solid rgba(0,255,120,0.6);
  background: rgba(0,0,0,0.9);
  color: #b0ffc6;
  font-size: 13px;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  cursor: pointer;
  transition: background 0.15s, box-shadow 0.15s, transform 0.05s;
}

.btn-primary {
  background: rgba(0,255,120,0.18);
}

.btn:hover {
  background: rgba(0,255,120,0.22);
  box-shadow: 0 0 10px rgba(0,255,120,0.7);
}

.btn:active {
  transform: translateY(1px);
}

.btn:disabled {
  opacity: 0.4;
  cursor: default;
  box-shadow: none;
}

/* status */
.status {
  margin-top: 4px;
  padding: 8px 9px;
  border-radius: 8px;
  font-size: 11px;
  opacity: 0;
  transition: opacity 0.25s;
}

.status.show { opacity: 1; }

.status.info {
  border: 1px solid rgba(0,255,120,0.4);
  background: rgba(0,255,120,0.06);
  color: #98ffb2;
}

.status.success {
  border: 1px solid rgba(0,255,120,0.7);
  background: rgba(0,255,120,0.14);
  color: #e3ffe9;
}

.status.error {
  border: 1px solid #ff4d4d;
  background: rgba(120,0,0,0.6);
  color: #ffe3e3;
}

@media (max-width: 480px) {
  body { padding: 10px; }
  .card { padding: 14px 10px; }
  textarea { min-height: 100px; }
}
</style>
</head>
<body>

<div class="app">
  <div class="boot">
    BOOTING THE MUTILATOR X CORE...<br>
    INITIALIZING LINGUISTIC CIRCUITS...<br>
    SYSTEM ONLINE.<br>
  </div>

  <header class="header">
    <div class="header-title">THE MUTILATOR X</div>
    <div class="header-pill">NEON TRANSLATOR</div>
  </header>

  <main class="card">
    <!-- language selectors -->
    <div class="lang-row">
      <div class="lang-select">
        <select id="fromLang">
          <option value="en">English</option>
          <option value="es">Spanish</option>
          <option value="fr">French</option>
          <option value="de">German</option>
          <option value="it">Italian</option>
          <option value="pt">Portuguese</option>
          <option value="ru">Russian</option>
          <option value="ja">Japanese</option>
          <option value="ko">Korean</option>
          <option value="zh-CN">Chinese (Simplified)</option>
          <option value="zh-TW">Chinese (Traditional)</option>
          <option value="ar">Arabic</option>
          <option value="hi">Hindi</option>
        </select>
      </div>
      <button class="swap-btn" id="swapBtn" title="Swap languages">â‡„</button>
      <div class="lang-select">
        <select id="toLang">
          <option value="es">Spanish</option>
          <option value="en">English</option>
          <option value="fr">French</option>
          <option value="de">German</option>
          <option value="it">Italian</option>
          <option value="pt">Portuguese</option>
          <option value="ru">Russian</option>
          <option value="ja">Japanese</option>
          <option value="ko">Korean</option>
          <option value="zh-CN">Chinese (Simplified)</option>
          <option value="zh-TW">Chinese (Traditional)</option>
          <option value="ar">Arabic</option>
          <option value="hi">Hindi</option>
        </select>
      </div>
    </div>

    <!-- input text -->
    <section>
      <div class="label">Source text</div>
      <textarea id="inputText"
        placeholder="Type or paste what you want to translate..."></textarea>

      <div class="btn-row">
        <button class="btn btn-primary" id="translateBtn">
          âš¡ Translate
        </button>
        <button class="btn" id="clearBtn">
          âœ– Clear
        </button>
      </div>
    </section>

    <div class="divider"></div>

    <!-- output text -->
    <section>
      <div class="label">Translation</div>
      <textarea id="outputText"
        placeholder="Translation will appear here..." readonly></textarea>

      <div class="btn-row">
        <button class="btn btn-primary" id="speakBtn" disabled>
          ðŸ”Š Speak Output
        </button>
        <button class="btn" id="copyBtn" disabled>
          ðŸ“‹ Copy
        </button>
      </div>
    </section>

    <div class="status" id="status"></div>
  </main>
</div>

<script>
// === DOM ====================================================================
const fromLang   = document.getElementById("fromLang");
const toLang     = document.getElementById("toLang");
const swapBtn    = document.getElementById("swapBtn");
const inputText  = document.getElementById("inputText");
const outputText = document.getElementById("outputText");
const translateBtn = document.getElementById("translateBtn");
const clearBtn   = document.getElementById("clearBtn");
const speakBtn   = document.getElementById("speakBtn");
const copyBtn    = document.getElementById("copyBtn");
const statusBox  = document.getElementById("status");

// map for speech synthesis language codes
const speechLangMap = {
  "en": "en-US", "es": "es-ES", "fr": "fr-FR", "de": "de-DE", "it": "it-IT",
  "pt": "pt-PT", "ru": "ru-RU", "ja": "ja-JP", "ko": "ko-KR",
  "zh-CN": "zh-CN", "zh-TW": "zh-TW", "ar": "ar-SA", "hi": "hi-IN"
};

// === EVENTS ================================================================

// Swap languages and texts
swapBtn.addEventListener("click", () => {
  const fromValue = fromLang.value;
  const toValue   = toLang.value;
  fromLang.value = toValue;
  toLang.value   = fromValue;

  const t = inputText.value;
  inputText.value  = outputText.value;
  outputText.value = t;

  if (inputText.value.trim()) translateText();
});

// Translate button
translateBtn.addEventListener("click", translateText);

// Enter+Cmd/Ctrl shortcut
inputText.addEventListener("keydown", (e) => {
  if ((e.metaKey || e.ctrlKey) && e.key === "Enter") {
    translateText();
  }
});

// Clear
clearBtn.addEventListener("click", () => {
  inputText.value = "";
  outputText.value = "";
  speakBtn.disabled = true;
  copyBtn.disabled = true;
  hideStatus();
});

// Speak translation
speakBtn.addEventListener("click", () => {
  const txt = outputText.value.trim();
  if (!txt) return;
  speakText(txt, toLang.value);
});

// Copy translation
copyBtn.addEventListener("click", async () => {
  try {
    await navigator.clipboard.writeText(outputText.value);
    showStatus("Copied to clipboard.", "success");
  } catch (e) {
    outputText.select();
    document.execCommand("copy");
    showStatus("Copied to clipboard (fallback).", "success");
  }
});

// === TRANSLATION FUNCTION ===================================================
let translationTimeout;

async function translateText() {
  const text = inputText.value.trim();
  if (!text) {
    showStatus("Nothing to translate.", "error");
    return;
  }

  clearTimeout(translationTimeout);
  translationTimeout = setTimeout(async () => {
    try {
      const sourceLang = fromLang.value;
      const targetLang = toLang.value;
      showStatus("Translating...", "info");

      const url = `https://api.mymemory.translated.net/get?q=${
        encodeURIComponent(text)
      }&langpair=${sourceLang}|${targetLang}`;

      const res  = await fetch(url);
      const data = await res.json();

      if (data.responseStatus === 200 && data.responseData.translatedText) {
        outputText.value = data.responseData.translatedText;
        speakBtn.disabled = false;
        copyBtn.disabled = false;
        showStatus("Translation complete.", "success");
      } else {
        throw new Error("Bad response");
      }
    } catch (err) {
      console.error(err);
      showStatus("Translation failed. Check connection and try again.", "error");
      outputText.value = "";
      speakBtn.disabled = true;
      copyBtn.disabled = true;
    }
  }, 300);
}

// === TEXT-TO-SPEECH ========================================================
function speakText(text, langCode) {
  if (!("speechSynthesis" in window)) {
    showStatus("Text-to-speech not supported in this browser.", "error");
    return;
  }

  window.speechSynthesis.cancel();

  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang  = speechLangMap[langCode] || langCode;
  utterance.rate  = 0.95;
  utterance.pitch = 1.0;

  // try to pick a matching voice
  const voices = window.speechSynthesis.getVoices();
  const match = voices.find(v =>
    v.lang.toLowerCase().startsWith((utterance.lang || "").split("-")[0].toLowerCase())
  );
  if (match) utterance.voice = match;

  utterance.onstart = () => showStatus("Speaking...", "info");
  utterance.onend   = () => hideStatus();
  utterance.onerror = () => showStatus("Speech failed.", "error");

  window.speechSynthesis.speak(utterance);
}

// preload voices for some browsers
if ("speechSynthesis" in window) {
  speechSynthesis.onvoiceschanged = () => speechSynthesis.getVoices();
}

// === STATUS HELPERS ========================================================
function showStatus(message, type) {
  statusBox.textContent = message;
  statusBox.className = "status show " + type;
}

function hideStatus() {
  statusBox.className = "status";
}
</script>

</body>
</html>
